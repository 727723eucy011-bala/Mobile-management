{"ast":null,"code":"var _jsxFileName = \"/home/cyborg/Documents/Localhost/reactapp/src/components/UserDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { planAPI, subscriptionAPI } from '../services/api';\nimport authService from '../services/authService';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserDashboard = () => {\n  _s();\n  const [plans, setPlans] = useState([]);\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const currentUser = authService.getCurrentUser();\n  useEffect(() => {\n    loadData();\n  }, []);\n  const loadData = async () => {\n    try {\n      const [plansData, subscriptionsData] = await Promise.all([planAPI.getAllPlans(), subscriptionAPI.getUserSubscriptions(currentUser.userId)]);\n      setPlans(plansData);\n      setSubscriptions(subscriptionsData);\n    } catch (err) {\n      setError('Failed to load data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSubscribe = async planId => {\n    try {\n      await subscriptionAPI.createSubscription(planId);\n      loadData(); // Refresh data\n    } catch (err) {\n      setError('Failed to create subscription');\n    }\n  };\n  const handleCancelSubscription = async subscriptionId => {\n    try {\n      await subscriptionAPI.cancelSubscription(subscriptionId);\n      loadData(); // Refresh data\n    } catch (err) {\n      setError('Failed to cancel subscription');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"plans-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Available Plans\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plans-grid\",\n        children: plans.map(plan => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"plan-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: plan.planName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price\",\n            children: [\"$\", plan.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"duration\",\n            children: [plan.duration, \" days\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"description\",\n            children: plan.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleSubscribe(plan.planId),\n            className: \"subscribe-btn\",\n            children: \"Subscribe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, plan.planId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"subscriptions-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Subscriptions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), subscriptions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No subscriptions found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subscriptions-list\",\n        children: subscriptions.map(subscription => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subscription-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: subscription.plan.planName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status ${subscription.status.toLowerCase()}`,\n              children: subscription.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Start Date: \", subscription.startDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"End Date: \", subscription.endDate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this), subscription.status === 'ACTIVE' && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleCancelSubscription(subscription.subscriptionId),\n            className: \"cancel-btn\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 19\n          }, this)]\n        }, subscription.subscriptionId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(UserDashboard, \"5207a0+y6BAtocQUi+Egu35PyNU=\");\n_c = UserDashboard;\nexport default UserDashboard;\nvar _c;\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"names":["React","useState","useEffect","planAPI","subscriptionAPI","authService","jsxDEV","_jsxDEV","UserDashboard","_s","plans","setPlans","subscriptions","setSubscriptions","loading","setLoading","error","setError","currentUser","getCurrentUser","loadData","plansData","subscriptionsData","Promise","all","getAllPlans","getUserSubscriptions","userId","err","handleSubscribe","planId","createSubscription","handleCancelSubscription","subscriptionId","cancelSubscription","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","plan","planName","price","duration","description","onClick","length","subscription","status","toLowerCase","startDate","endDate","_c","$RefreshReg$"],"sources":["/home/cyborg/Documents/Localhost/reactapp/src/components/UserDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { planAPI, subscriptionAPI } from '../services/api';\nimport authService from '../services/authService';\nimport './Dashboard.css';\n\nconst UserDashboard = () => {\n  const [plans, setPlans] = useState([]);\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  const currentUser = authService.getCurrentUser();\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      const [plansData, subscriptionsData] = await Promise.all([\n        planAPI.getAllPlans(),\n        subscriptionAPI.getUserSubscriptions(currentUser.userId)\n      ]);\n      setPlans(plansData);\n      setSubscriptions(subscriptionsData);\n    } catch (err) {\n      setError('Failed to load data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubscribe = async (planId) => {\n    try {\n      await subscriptionAPI.createSubscription(planId);\n      loadData(); // Refresh data\n    } catch (err) {\n      setError('Failed to create subscription');\n    }\n  };\n\n  const handleCancelSubscription = async (subscriptionId) => {\n    try {\n      await subscriptionAPI.cancelSubscription(subscriptionId);\n      loadData(); // Refresh data\n    } catch (err) {\n      setError('Failed to cancel subscription');\n    }\n  };\n\n  if (loading) return <div className=\"loading\">Loading...</div>;\n\n  return (\n    <div className=\"dashboard\">\n      <h1>User Dashboard</h1>\n      \n      {error && <div className=\"error-message\">{error}</div>}\n\n      <section className=\"plans-section\">\n        <h2>Available Plans</h2>\n        <div className=\"plans-grid\">\n          {plans.map(plan => (\n            <div key={plan.planId} className=\"plan-card\">\n              <h3>{plan.planName}</h3>\n              <p className=\"price\">${plan.price}</p>\n              <p className=\"duration\">{plan.duration} days</p>\n              <p className=\"description\">{plan.description}</p>\n              <button \n                onClick={() => handleSubscribe(plan.planId)}\n                className=\"subscribe-btn\"\n              >\n                Subscribe\n              </button>\n            </div>\n          ))}\n        </div>\n      </section>\n\n      <section className=\"subscriptions-section\">\n        <h2>My Subscriptions</h2>\n        {subscriptions.length === 0 ? (\n          <p>No subscriptions found.</p>\n        ) : (\n          <div className=\"subscriptions-list\">\n            {subscriptions.map(subscription => (\n              <div key={subscription.subscriptionId} className=\"subscription-card\">\n                <h4>{subscription.plan.planName}</h4>\n                <p>Status: <span className={`status ${subscription.status.toLowerCase()}`}>\n                  {subscription.status}\n                </span></p>\n                <p>Start Date: {subscription.startDate}</p>\n                <p>End Date: {subscription.endDate}</p>\n                {subscription.status === 'ACTIVE' && (\n                  <button \n                    onClick={() => handleCancelSubscription(subscription.subscriptionId)}\n                    className=\"cancel-btn\"\n                  >\n                    Cancel\n                  </button>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default UserDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}